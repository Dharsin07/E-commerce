import{j as e}from"./index-02495058.js";import{r as o}from"./vendor-9fe24c3f.js";import{P}from"./Products-dac62c23.js";import{c as k,u as L}from"./router-4197aa40.js";import"./ui-9e04399f.js";import"./supabase-f3f4aacd.js";const R=({products:m=[],wishlist:f=[],onAddToCart:x,onToggleWishlist:j,onOpenModal:C,onFly:v})=>{const{type:b}=k(),S=L(),y=String(b||"").toLowerCase(),i=decodeURIComponent(y||""),[n,d]=o.useState(""),[h,l]=o.useState(12),[u,g]=o.useState("featured"),[p,w]=o.useState([]);o.useEffect(()=>{const r=m.filter(a=>String(a.category||"").toLowerCase()===i);w(r),d(""),l(12),g("featured")},[m,i]);const c=o.useMemo(()=>{const r=String(n||"").trim().toLowerCase();let a=p.slice();switch(r&&(a=a.filter(t=>(t.name||"").toLowerCase().includes(r)||(t.description||"").toLowerCase().includes(r)||(t.category||"").toLowerCase().includes(r))),u){case"price-low":a.sort((t,s)=>t.price-s.price);break;case"price-high":a.sort((t,s)=>s.price-t.price);break;case"name":a.sort((t,s)=>(t.name||"").localeCompare(s.name||""));break;case"rating":a.sort((t,s)=>(s.rating||0)-(t.rating||0));break;case"featured":default:a.sort((t,s)=>t.featured&&!s.featured?-1:!t.featured&&s.featured?1:(s.rating||0)-(t.rating||0));break}return a},[p,n,u]),N=c.slice(0,h);return e.jsx("section",{className:"section",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h2",{className:"section-title",children:(i||"").replace("-"," ")}),e.jsx("button",{className:"btn btn-secondary",onClick:()=>S("/"),children:"Back Home"})]}),e.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem",alignItems:"center"},children:[e.jsx("input",{"aria-label":"Search collection",placeholder:`Search ${String(i||"").replace("-"," ")}...`,value:n,onChange:r=>d(r.target.value),className:"search-input"}),e.jsxs("select",{"aria-label":"Sort collection",value:u,onChange:r=>g(r.target.value),className:"filter-select",children:[e.jsx("option",{value:"featured",children:"Featured"}),e.jsx("option",{value:"price-low",children:"Price: Low to High"}),e.jsx("option",{value:"price-high",children:"Price: High to Low"}),e.jsx("option",{value:"name",children:"Name A-Z"}),e.jsx("option",{value:"rating",children:"Top Rated"})]})]}),e.jsx(P,{products:N,wishlist:f,onAddToCart:x,onToggleWishlist:j,onOpenModal:C,filters:{search:n,category:i},onFilterChange:()=>{},onFly:v}),e.jsx("div",{style:{textAlign:"center",marginTop:"1rem"},children:h<c.length?e.jsx("button",{className:"btn",onClick:()=>l(r=>Math.min(c.length,r+20)),children:"See More"}):c.length>12&&e.jsx("button",{className:"btn outline",onClick:()=>l(12),children:"See Less"})})]})})};export{R as default};
