var A=Object.defineProperty;var f=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var M=(i,s,t)=>s in i?A(i,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[s]=t,b=(i,s)=>{for(var t in s||(s={}))D.call(s,t)&&M(i,t,s[t]);if(f)for(var t of f(s))k.call(s,t)&&M(i,t,s[t]);return i};import{j as e,g as R,f as w}from"./index-02495058.js";import{a as P,r as d}from"./vendor-9fe24c3f.js";const h=({variant:i="text",width:s,height:t,className:j="",style:c={}})=>{const r=b({width:s||(i==="text"?"100%":i==="circle"?"40px":"auto"),height:t||(i==="text"?"16px":i==="circle"?"40px":"auto")},c);return e.jsx("div",{className:`skeleton skeleton-${i} ${j}`,style:r,"aria-hidden":"true"})},I=P.forwardRef(({src:i,alt:s,className:t="",placeholder:j="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0yMCAxNkMxOC4yIDE2IDE2LjggMTcuMiAxNi44IDE5QzE2LjggMjAuOCAxOC4yIDIyIDIwIDIyQzIxLjggMjIgMjMuMiAyMC44IDIzLjIgMTlDMjMuMiAxNy4yIDIxLjggMTYgMjAgMTZaIiBmaWxsPSIjRDRENEQ0Ii8+CjxwYXRoIGQ9Ik0yMCAyNkMyMi4yIDI2IDI0IDI0LjIgMjQgMjJDMjQgMTkuOCAyMi4yIDE4IDIwIDE4QzE3LjggMTggMTYgMTkuOCAxNiAyMkMxNiAyNC4yIDE3LjggMjYgMjAgMjZaIiBmaWxsPSIjRDRENEQ0Ii8+Cjwvc3ZnPg==",onLoad:c,onError:r},u)=>{const[m,x]=d.useState(!1),[p,y]=d.useState(!1),[g,o]=d.useState(!1),n=d.useRef();d.useEffect(()=>{const v=new IntersectionObserver(([N])=>{N.isIntersecting&&(y(!0),v.disconnect())},{threshold:.1,rootMargin:"50px"});return n.current&&v.observe(n.current),()=>v.disconnect()},[]);const l=()=>{x(!0),c==null||c()},a=()=>{o(!0),r==null||r()};return e.jsxs("div",{ref:n,className:"lazy-image-container",children:[!m&&!g&&e.jsx("div",{className:"lazy-image-placeholder",children:e.jsx("div",{className:"skeleton-image"})}),p&&e.jsx("img",{ref:u,src:g?j:i,alt:s,className:`lazy-image ${m?"loaded":"loading"} ${t}`,onLoad:l,onError:a,style:{opacity:m?1:0,transition:"opacity 0.3s ease-in-out",width:"100%",height:"100%",objectFit:"cover"}})]})});I.displayName="LazyImage";const L=({product:i,isInWishlist:s,onAddToCart:t,onToggleWishlist:j,onOpenModal:c,onFly:r,loading:u=!1})=>{var p,y,g;const m=i!=null&&i.originalPrice?Math.round((i.originalPrice-i.price)/i.originalPrice*100):0,x=d.useRef(null);return u?e.jsxs("div",{className:"product-card",children:[e.jsxs("div",{className:"product-image",children:[e.jsx(h,{variant:"image",height:"280px"}),e.jsxs("div",{className:"product-actions",children:[e.jsx(h,{variant:"circle",width:"44px",height:"44px"}),e.jsx(h,{variant:"circle",width:"44px",height:"44px"}),e.jsx(h,{variant:"circle",width:"44px",height:"44px"})]})]}),e.jsxs("div",{className:"product-info",children:[e.jsx(h,{variant:"text",width:"60%",height:"14px",style:{marginBottom:"0.5rem"}}),e.jsx(h,{variant:"text",width:"90%",height:"20px",style:{marginBottom:"1rem"}}),e.jsx(h,{variant:"text",width:"40%",height:"16px",style:{marginBottom:"1rem"}}),e.jsx(h,{variant:"text",width:"50%",height:"20px",style:{marginBottom:"1rem"}}),e.jsx(h,{variant:"button",width:"100%"})]})]}):e.jsxs("div",{className:"product-card fade-in",children:[e.jsxs("div",{className:"product-image",onClick:()=>c(i.id),children:[e.jsx(I,{src:((p=i.images)==null?void 0:p[0])||"/placeholder.jpg",alt:i.name,className:"product-img",ref:x}),m>0&&e.jsxs("div",{style:{position:"absolute",top:"1rem",left:"1rem",background:"var(--gold)",color:"var(--primary-dark)",padding:"0.5rem",borderRadius:"4px",fontWeight:600,fontSize:"0.8rem"},children:["-",m,"%"]}),e.jsxs("div",{className:"product-actions",children:[e.jsxs("button",{className:`action-btn ${s?"active":""}`,onClick:o=>{var n,l;o.stopPropagation();try{const a=(n=x.current)==null?void 0:n.getBoundingClientRect();r&&r({src:((l=i.images)==null?void 0:l[0])||"/placeholder.jpg",startRect:a,target:"wishlist"})}catch(a){}j(i.id)},"aria-label":s?"Remove from wishlist":"Add to wishlist",title:s?"Remove from wishlist":"Add to wishlist",children:[e.jsx("span",{className:"action-icon","aria-hidden":!0,children:s?"â¤ï¸":"ðŸ¤"}),e.jsx("span",{className:"sr-only",children:s?"Remove from wishlist":"Add to wishlist"})]}),e.jsxs("button",{className:"action-btn",onClick:o=>{o.stopPropagation(),c(i.id)},"aria-label":"Quick view",title:"Quick view",children:[e.jsx("span",{className:"action-icon","aria-hidden":!0,children:"ðŸ”"}),e.jsx("span",{className:"sr-only",children:"Quick view"})]}),e.jsxs("button",{className:"action-btn",onClick:o=>{var n,l;o.stopPropagation();try{const a=(n=x.current)==null?void 0:n.getBoundingClientRect();r&&r({src:((l=i.images)==null?void 0:l[0])||"/placeholder.jpg",startRect:a,target:"cart"})}catch(a){}t(i.id)},"aria-label":"Add to cart",title:"Add to cart",children:[e.jsx(I,{src:((y=i.images)==null?void 0:y[0])||"/placeholder.jpg",alt:i.name,className:"product-img"}),e.jsx("span",{className:"action-icon","aria-hidden":!0,children:"ðŸ›’"}),e.jsx("span",{className:"sr-only",children:"Add to cart"})]})]})]}),e.jsxs("div",{className:"product-info",children:[e.jsx("div",{className:"product-category",children:((g=i.category)==null?void 0:g.replace("-"," "))||"Uncategorized"}),e.jsx("h3",{className:"product-name",children:i.name}),e.jsxs("div",{className:"product-rating",children:[e.jsx("span",{className:"stars",children:R(i.rating)}),e.jsxs("span",{className:"rating-count",children:["(",i.reviews,")"]})]}),e.jsxs("div",{className:"product-price",children:[w(i.price),i.originalPrice&&e.jsx("span",{style:{textDecoration:"line-through",color:"var(--text-gray)",fontSize:"1rem",marginLeft:"0.5rem"},children:w(i.originalPrice)})]}),e.jsx("button",{className:"btn",onClick:o=>{var n;try{const l=(n=x.current)==null?void 0:n.getBoundingClientRect();r&&r({src:i.images[0],startRect:l,target:"cart"})}catch(l){}t(i.id)},style:{width:"100%"},children:e.jsx("span",{className:"btn-text",children:"Add to Cart"})})]})]})},C=d.memo(L),Q=({products:i,wishlist:s,onAddToCart:t,onToggleWishlist:j,onOpenModal:c,filters:r,onFilterChange:u,onViewCollection:m,onWriteReview:x,reviewsByProduct:p={},loading:y=!1})=>{const[g,o]=d.useState(20),n=d.useMemo(()=>i.slice(0,g),[i,g]),l=y;return e.jsx("section",{className:"section",id:"products",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"products-header fade-in",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"section-title",children:"Our Collection"}),e.jsx("p",{className:"section-subtitle",children:"Handpicked luxury furniture for the discerning homeowner"})]}),e.jsxs("div",{className:"search-filters",children:[e.jsxs("select",{className:"filter-select",value:r.category,onChange:a=>u("category",a.target.value),"aria-label":"Filter by category",children:[e.jsx("option",{value:"",children:"All Categories"}),e.jsx("option",{value:"living-room",children:"Living Room"}),e.jsx("option",{value:"dining",children:"Dining Room"}),e.jsx("option",{value:"bedroom",children:"Bedroom"}),e.jsx("option",{value:"office",children:"Office"})]}),e.jsxs("select",{className:"filter-select",value:r.price,onChange:a=>u("price",a.target.value),"aria-label":"Filter by price range",children:[e.jsx("option",{value:"",children:"All Prices"}),e.jsx("option",{value:"0-2000",children:"Under $2,000"}),e.jsx("option",{value:"2000-5000",children:"$2,000 - $5,000"}),e.jsx("option",{value:"5000-10000",children:"$5,000 - $10,000"}),e.jsx("option",{value:"10000+",children:"Over $10,000"})]}),e.jsxs("select",{className:"filter-select",value:r.sort,onChange:a=>u("sort",a.target.value),"aria-label":"Sort products",children:[e.jsx("option",{value:"featured",children:"Featured"}),e.jsx("option",{value:"price-low",children:"Price: Low to High"}),e.jsx("option",{value:"price-high",children:"Price: High to Low"}),e.jsx("option",{value:"name",children:"Name A-Z"})]})]})]}),e.jsx("div",{className:"products-grid",role:"region","aria-label":"Products",children:l?Array.from({length:8},(a,v)=>e.jsx(C,{loading:!0},`skeleton-${v}`)):i.length===0?e.jsxs("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"4rem",color:"var(--text-gray)"},children:[e.jsx("h3",{children:"No products found"}),e.jsx("p",{children:"Try adjusting your search or filter criteria"})]}):n.map((a,v)=>e.jsx("div",{className:"fade-in",style:{animationDelay:`${v*.1}s`},children:e.jsx(C,{product:a,isInWishlist:s.some(N=>N.id===a.id),onAddToCart:t,onToggleWishlist:j,onOpenModal:c,onViewCollection:m,onWriteReview:x,reviews:p[a.id]||[],onFly:typeof onFly=="function"?onFly:null})},a.id))}),i.length>g&&e.jsx("div",{style:{textAlign:"center",marginTop:"1.5rem"},children:e.jsx("button",{className:"btn",onClick:()=>o(a=>Math.min(i.length,a+20)),children:"See More"})})]})})},z=d.memo(Q);export{z as P};
