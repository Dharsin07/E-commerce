var S=Object.defineProperty,q=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var y=(n,l,r)=>l in n?S(n,l,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[l]=r,v=(n,l)=>{for(var r in l||(l={}))M.call(l,r)&&y(n,r,l[r]);if(j)for(var r of j(l))F.call(l,r)&&y(n,r,l[r]);return n},N=(n,l)=>q(n,D(l));import{j as e,f as t}from"./index-01a43d90.js";import{r as h}from"./vendor-9fe24c3f.js";import{Q as o}from"./ui-9e04399f.js";import"./router-4197aa40.js";import"./supabase-f3f4aacd.js";const O=({isOpen:n,cart:l,cartTotal:r,onClose:m,onCompleteOrder:p})=>{const[c,x]=h.useState(1),[d,u]=h.useState("gpay"),[s,g]=h.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",state:"",zipCode:"",country:"",upiId:"",cardName:"",cardNumber:"",expiryDate:"",cvv:"",sameAsShipping:!0}),i=a=>{const{name:C,value:k,type:w,checked:I}=a.target;g(P=>N(v({},P),{[C]:w==="checkbox"?I:k}))},f=()=>{if(!s.upiId){o.error("Please enter UPI ID");return}const a=`upi://pay?pa=${s.upiId}&pn=LuxeFurniture&am=${r}&cu=INR&tn=Order_${Date.now()}`;window.location.href=a,setTimeout(()=>{o.success("Payment completed successfully!"),p(s),m()},500)},b=a=>{a.preventDefault(),c<3?x(c+1):d==="gpay"?f():(o.success("Order placed successfully!"),p(s),m())};return n?e.jsx("div",{className:"modal active",children:e.jsxs("div",{className:"modal-content checkout-modal",children:[e.jsx("button",{className:"modal-close",onClick:m,children:"✕"}),e.jsxs("div",{className:"checkout-header",children:[e.jsx("h2",{children:"Checkout"}),e.jsxs("div",{className:"checkout-steps",children:[e.jsxs("div",{className:`checkout-step ${c>=1?"active":""}`,children:[e.jsx("span",{className:"step-number",children:"1"}),e.jsx("span",{className:"step-label",children:"Shipping"})]}),e.jsxs("div",{className:`checkout-step ${c>=2?"active":""}`,children:[e.jsx("span",{className:"step-number",children:"2"}),e.jsx("span",{className:"step-label",children:"Payment"})]}),e.jsxs("div",{className:`checkout-step ${c>=3?"active":""}`,children:[e.jsx("span",{className:"step-number",children:"3"}),e.jsx("span",{className:"step-label",children:"Review"})]})]})]}),e.jsxs("div",{className:"checkout-grid",children:[e.jsx("div",{className:"checkout-col checkout-col--form",children:e.jsxs("form",{onSubmit:b,className:"checkout-form",children:[c===1&&e.jsxs("div",{className:"card card--white",children:[e.jsx("h3",{children:"Shipping Information"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"First Name *"}),e.jsx("input",{type:"text",name:"firstName",value:s.firstName,onChange:i,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Last Name *"}),e.jsx("input",{type:"text",name:"lastName",value:s.lastName,onChange:i,required:!0})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email *"}),e.jsx("input",{type:"email",name:"email",value:s.email,onChange:i,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone"}),e.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:i})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address *"}),e.jsx("input",{type:"text",name:"address",value:s.address,onChange:i,required:!0})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"City *"}),e.jsx("input",{type:"text",name:"city",value:s.city,onChange:i,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State"}),e.jsx("input",{type:"text",name:"state",value:s.state,onChange:i})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"ZIP Code *"}),e.jsx("input",{type:"text",name:"zipCode",value:s.zipCode,onChange:i,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country *"}),e.jsx("input",{type:"text",name:"country",value:s.country,onChange:i,required:!0})]})]})]}),c===2&&e.jsxs("div",{className:"card card--white",children:[e.jsx("h3",{children:"Payment Information"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Payment Method *"}),e.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"gpay",checked:d==="gpay",onChange:a=>u(a.target.value)}),"GPay/UPI"]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"card",checked:d==="card",onChange:a=>u(a.target.value)}),"Credit Card"]})]})]}),d==="gpay"&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"UPI ID *"}),e.jsx("input",{type:"text",name:"upiId",value:s.upiId,onChange:i,placeholder:"yourupi@paytm",required:d==="gpay"}),e.jsx("small",{style:{color:"var(--text-gray)",marginTop:"0.5rem",display:"block"},children:"Enter your UPI ID for GPay/PhonePe/ Paytm payment"})]}),d==="card"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cardholder Name *"}),e.jsx("input",{type:"text",name:"cardName",value:s.cardName,onChange:i,required:d==="card"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Card Number *"}),e.jsx("input",{type:"text",name:"cardNumber",value:s.cardNumber,onChange:i,placeholder:"1234 5678 9012 3456",maxLength:"16",required:d==="card"})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Expiry Date *"}),e.jsx("input",{type:"text",name:"expiryDate",value:s.expiryDate,onChange:i,placeholder:"MM/YY",maxLength:"5",required:d==="card"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"CVV *"}),e.jsx("input",{type:"text",name:"cvv",value:s.cvv,onChange:i,placeholder:"123",maxLength:"3",required:d==="card"})]})]})]}),e.jsx("div",{className:"form-group",children:e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",name:"sameAsShipping",checked:s.sameAsShipping,onChange:i}),"Billing address same as shipping"]})})]}),c===3&&e.jsxs("div",{className:"card card--white",children:[e.jsx("h3",{children:"Order Review"}),e.jsxs("div",{className:"order-summary",children:[e.jsx("div",{className:"order-items",children:l.map(a=>e.jsxs("div",{className:"order-item",children:[e.jsx("img",{src:a.image,alt:a.name}),e.jsxs("div",{className:"order-item-details",children:[e.jsx("h4",{children:a.name}),e.jsxs("p",{children:["Qty: ",a.quantity]}),e.jsx("p",{className:"price",children:t(a.price*a.quantity)})]})]},a.productId))}),e.jsxs("div",{className:"order-totals",children:[e.jsxs("div",{className:"order-total-row",children:[e.jsx("span",{children:"Subtotal:"}),e.jsx("span",{children:t(r)})]}),e.jsxs("div",{className:"order-total-row",children:[e.jsx("span",{children:"Shipping:"}),e.jsx("span",{children:"Free"})]}),e.jsxs("div",{className:"order-total-row",children:[e.jsx("span",{children:"Tax:"}),e.jsx("span",{children:t(r*.1)})]}),e.jsxs("div",{className:"order-total-row total",children:[e.jsx("span",{children:"Total:"}),e.jsx("span",{children:t(r*1.1)})]})]})]}),e.jsxs("div",{className:"shipping-info-summary",children:[e.jsx("h4",{children:"Shipping To:"}),e.jsxs("p",{children:[s.firstName," ",s.lastName]}),e.jsx("p",{children:s.address}),e.jsxs("p",{children:[s.city,", ",s.state," ",s.zipCode]}),e.jsx("p",{children:s.country})]})]}),e.jsxs("div",{className:"checkout-actions",children:[c>1&&e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>x(c-1),children:"Back"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:c===3?"Place Order":"Continue"})]})]})}),e.jsx("aside",{className:"checkout-col checkout-col--summary",children:e.jsxs("div",{className:"card card--summary",children:[e.jsx("h4",{children:"Order Summary"}),e.jsx("div",{className:"summary-items",children:l.map(a=>e.jsxs("div",{className:"summary-item",children:[e.jsx("div",{className:"summary-item-name",children:a.name}),e.jsxs("div",{className:"summary-item-meta",children:[a.quantity," × ",t(a.price)]})]},a.productId))}),e.jsxs("div",{className:"summary-totals",children:[e.jsxs("div",{className:"summary-row",children:[e.jsx("span",{children:"Subtotal"}),e.jsx("strong",{children:t(r)})]}),e.jsxs("div",{className:"summary-row",children:[e.jsx("span",{children:"Shipping"}),e.jsx("strong",{children:"Free"})]}),e.jsxs("div",{className:"summary-row",children:[e.jsx("span",{children:"Tax"}),e.jsx("strong",{children:t(r*.1)})]}),e.jsxs("div",{className:"summary-row total",children:[e.jsx("span",{children:"Total"}),e.jsx("strong",{children:t(r*1.1)})]})]})]})})]})]})}):null};export{O as default};
