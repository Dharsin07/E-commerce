var v=Object.defineProperty,N=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var x=(n,e,s)=>e in n?v(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s,d=(n,e)=>{for(var s in e||(e={}))C.call(e,s)&&x(n,s,e[s]);if(y)for(var s of y(e))E.call(e,s)&&x(n,s,e[s]);return n},g=(n,e)=>N(n,S(e));var f=(n,e,s)=>new Promise((u,m)=>{var i=l=>{try{r(s.next(l))}catch(t){m(t)}},o=l=>{try{r(s.throw(l))}catch(t){m(t)}},r=l=>l.done?u(l.value):Promise.resolve(l.value).then(i,o);r((s=s.apply(n,e)).next())});import{j as a}from"./index-02495058.js";import{r as p}from"./vendor-9fe24c3f.js";import{u as T}from"./router-4197aa40.js";import"./ui-9e04399f.js";import"./supabase-f3f4aacd.js";const j="profile_info",O=()=>{const n=T(),[e,s]=p.useState({name:"",email:"",phone:"",address:"",city:"",country:"",avatar:null}),[u,m]=p.useState(!1),[i,o]=p.useState("");p.useEffect(()=>{try{const t=localStorage.getItem(j);if(t){const c=JSON.parse(t);s(h=>d(d({},h),c))}}catch(t){console.error("Error loading profile:",t),o("Error loading profile data")}},[]);const r=t=>{const{name:c,value:h}=t.target;s(b=>g(d({},b),{[c]:h}))},l=t=>f(void 0,null,function*(){t.preventDefault(),m(!0),o("");try{if(!e.name.trim()||!e.email.trim())throw new Error("Name and email are required");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email))throw new Error("Please enter a valid email address");localStorage.setItem(j,JSON.stringify(g(d({},e),{name:e.name.trim(),email:e.email.trim(),phone:e.phone.trim(),updatedAt:new Date().toISOString()}))),o("Profile updated successfully")}catch(c){o(c.message)}finally{m(!1)}});return a.jsx("div",{className:"section",children:a.jsxs("div",{className:"container",children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("h2",{className:"section-title",children:"Edit Profile"}),a.jsx("button",{className:"btn btn-secondary",onClick:()=>n("/"),children:"Back Home"})]}),i&&a.jsx("div",{style:{marginTop:"1rem",padding:"0.5rem",backgroundColor:i.includes("successfully")?"#d4edda":"#f8d7da",color:i.includes("successfully")?"#155724":"#721c24",borderRadius:"4px"},children:i}),a.jsxs("form",{onSubmit:l,style:{marginTop:"1rem",maxWidth:600},children:[a.jsxs("label",{children:["Name",a.jsx("input",{name:"name",value:e.name,onChange:r,className:"search-input"})]}),a.jsxs("label",{style:{marginTop:"0.75rem",display:"block"},children:["Email",a.jsx("input",{name:"email",value:e.email,onChange:r,className:"search-input"})]}),a.jsxs("label",{style:{marginTop:"0.75rem",display:"block"},children:["Phone",a.jsx("input",{name:"phone",value:e.phone,onChange:r,className:"search-input"})]}),a.jsxs("label",{style:{marginTop:"0.75rem",display:"block"},children:["Address",a.jsx("input",{name:"address",value:e.address,onChange:r,className:"search-input"})]}),a.jsxs("label",{style:{marginTop:"0.75rem",display:"block"},children:["City",a.jsx("input",{name:"city",value:e.city,onChange:r,className:"search-input"})]}),a.jsxs("label",{style:{marginTop:"0.75rem",display:"block"},children:["Country",a.jsx("input",{name:"country",value:e.country,onChange:r,className:"search-input"})]}),a.jsx("div",{style:{marginTop:"1rem"},children:a.jsx("button",{className:"btn",type:"submit",disabled:u,children:u?"Saving...":"Save"})})]})]})})};export{O as default};
