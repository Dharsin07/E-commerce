import{j as e}from"./index-02495058.js";import{r as i}from"./vendor-9fe24c3f.js";import{u as b}from"./router-4197aa40.js";import"./ui-9e04399f.js";import"./supabase-f3f4aacd.js";const j="orders",C=()=>{const u=b(),[g,p]=i.useState([]),[o,x]=i.useState(""),[s,d]=i.useState(null),[a,c]=i.useState("");i.useEffect(()=>{try{const r=localStorage.getItem(j);r&&p(JSON.parse(r))}catch(r){console.error("Error loading orders:",r)}},[]);const h=r=>{r.preventDefault(),c(""),d(null);const n=g.find(t=>String(t.id)===String(o));if(!n){c("Order not found. Please check your order ID.");return}d(n)},y=(r,n)=>{const t={Processing:0,Confirmed:1,Shipped:2,"Out for Delivery":3,Delivered:4},l=t[n.status]||0,m=t[r];return m<l?"completed":m===l?"current":"pending"},v=r=>new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return e.jsx("div",{className:"section",children:e.jsxs("div",{className:"container",style:{maxWidth:"800px",margin:"0 auto"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[e.jsx("h2",{className:"section-title",children:"Track Order"}),e.jsx("button",{className:"btn btn-secondary",onClick:()=>u("/orders"),children:"View All Orders"})]}),e.jsx("form",{onSubmit:h,style:{marginBottom:"2rem"},children:e.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e.jsx("input",{type:"text",value:o,onChange:r=>x(r.target.value),placeholder:"Enter your Order ID",style:{flex:1,padding:"0.75rem",borderRadius:"4px",border:"1px solid var(--border-color)",background:"var(--input-bg)",color:"var(--text-primary)"},required:!0}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Track"})]})}),a&&e.jsx("div",{style:{padding:"1rem",marginBottom:"1rem",borderRadius:"4px",background:"var(--error-bg)",color:"var(--error-text)"},children:a}),s&&e.jsxs("div",{className:"order-tracking",children:[e.jsxs("div",{style:{padding:"1.5rem",borderRadius:"8px",background:"var(--bg-secondary)",marginBottom:"2rem"},children:[e.jsxs("h3",{style:{marginBottom:"1rem"},children:["Order #",s.id]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",v(s.date)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",s.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Customer:"})," ",s.customerName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Total:"})," $",s.total.toFixed(2)]})]}),e.jsx("div",{className:"tracking-timeline",style:{position:"relative",padding:"2rem 0"},children:["Processing","Confirmed","Shipped","Out for Delivery","Delivered"].map((r,n)=>{const t=y(r,s);return e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"1.5rem",position:"relative"},children:[e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:t==="completed"?"var(--success-bg)":t==="current"?"var(--primary-color)":"var(--border-color)",marginRight:"1rem",display:"flex",alignItems:"center",justifyContent:"center",color:t==="completed"?"var(--success-text)":t==="current"?"white":"var(--text-secondary)",border:"2px solid",borderColor:t==="completed"?"var(--success-text)":t==="current"?"var(--primary-color)":"var(--border-color)"},children:t==="completed"?"âœ“":n+1}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:t==="current"?"bold":"normal",color:t==="pending"?"var(--text-secondary)":"var(--text-primary)"},children:r}),t==="current"&&e.jsx("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:r==="Processing"?"Order is being processed":r==="Confirmed"?"Order has been confirmed":r==="Shipped"?"Package is on its way":r==="Out for Delivery"?"Package will be delivered today":"Package has been delivered"})]})]},r)})}),s.items&&e.jsxs("div",{style:{marginTop:"2rem",padding:"1.5rem",borderRadius:"8px",background:"var(--bg-secondary)"},children:[e.jsx("h4",{style:{marginBottom:"1rem"},children:"Order Items"}),e.jsx("div",{style:{display:"grid",gap:"1rem"},children:s.items.map(r=>e.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"0.5rem",borderBottom:"1px solid var(--border-color)"},children:[e.jsx("div",{style:{flex:1},children:r.name}),e.jsxs("div",{style:{marginLeft:"1rem"},children:["Qty: ",r.quantity]})]},r.id))})]})]})]})})};export{C as default};
