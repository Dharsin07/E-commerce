import{j as s}from"./index-01a43d90.js";import{r as h}from"./vendor-9fe24c3f.js";import{P as b}from"./Products-5a78b18a.js";import{u as k}from"./router-4197aa40.js";import"./ui-9e04399f.js";import"./supabase-f3f4aacd.js";const E=({products:i=[],wishlist:f=[],onAddToCart:p,onToggleWishlist:g,onOpenModal:x,reviewsByProduct:j,onFly:o})=>{const N=k(),[l,m]=h.useState("featured"),[c,u]=h.useState(""),v=i.filter(e=>e.featured),C=i.filter(e=>e.originalPrice&&e.originalPrice>e.price),y=Array.from(new Set(i.map(e=>e.category).filter(Boolean))),d=h.useCallback((e,t)=>{const n=e.slice();switch(t){case"price-low":n.sort((r,a)=>r.price-a.price);break;case"price-high":n.sort((r,a)=>a.price-r.price);break;case"name":n.sort((r,a)=>(r.name||"").localeCompare(a.name||""));break;case"rating":n.sort((r,a)=>(a.rating||0)-(r.rating||0));break;case"featured":default:n.sort((r,a)=>r.featured&&!a.featured?-1:!r.featured&&a.featured?1:(a.rating||0)-(r.rating||0));break}return n},[]);return h.useMemo(()=>{const e=c?i.filter(t=>t.category===c):i.slice();return d(e,l)},[i,c,l,d]),s.jsx("main",{children:s.jsx("section",{className:"section",children:s.jsxs("div",{className:"container",children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("h1",{className:"section-title",children:"Shop"}),s.jsx("button",{className:"btn btn-secondary",onClick:()=>N("/"),children:"Back Home"})]}),s.jsx("div",{className:"shop-intro",style:{marginTop:"1rem"},children:s.jsx("p",{className:"section-subtitle",children:"Explore our full catalog â€” curated collections, trending designs, and seasonal offers."})}),s.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center",marginTop:"1.25rem"},children:[s.jsxs("select",{"aria-label":"Filter category",className:"filter-select",value:c,onChange:e=>u(e.target.value),children:[s.jsx("option",{value:"",children:"All Categories"}),y.map(e=>s.jsx("option",{value:e,children:(e==null?void 0:e.replace("-"," "))||e},e))]}),s.jsxs("select",{"aria-label":"Sort products",className:"filter-select",value:l,onChange:e=>m(e.target.value),children:[s.jsx("option",{value:"featured",children:"Featured"}),s.jsx("option",{value:"price-low",children:"Price: Low to High"}),s.jsx("option",{value:"price-high",children:"Price: High to Low"}),s.jsx("option",{value:"name",children:"Name A-Z"}),s.jsx("option",{value:"rating",children:"Top Rated"})]})]}),s.jsxs("div",{className:"shop-section",style:{marginTop:"1.5rem"},children:[s.jsx("h2",{className:"shop-section-title",children:"Latest Trends"}),s.jsx(b,{products:d(v.length?v:i,l),wishlist:f,onAddToCart:p,onToggleWishlist:g,onOpenModal:x,filters:{search:"",category:""},onFilterChange:(e,t)=>{e==="sort"&&m(t),e==="category"&&u(t)},reviewsByProduct:j,onFly:typeof o=="function"?o:null})]}),s.jsxs("div",{className:"shop-section",children:[s.jsx("h2",{className:"shop-section-title",children:"Featured Collections"}),s.jsx("div",{className:"collections-grid",children:y.map(e=>s.jsx("div",{className:"collection-card",children:s.jsxs("div",{className:"collection-content",children:[s.jsx("h3",{children:(e==null?void 0:e.replace("-"," "))||e}),s.jsxs("p",{className:"collection-count",children:[i.filter(t=>t.category===e).length," items"]}),s.jsx("button",{className:"btn btn-outline",onClick:()=>N(`/collection/${e}`),children:"View Collection"})]})},e))})]}),s.jsxs("div",{className:"shop-section",children:[s.jsx("h2",{className:"shop-section-title",children:"Seasonal Offers"}),s.jsx(b,{products:d(C,l),wishlist:f,onAddToCart:p,onToggleWishlist:g,onOpenModal:x,filters:{search:"",category:""},onFilterChange:(e,t)=>{e==="sort"&&m(t),e==="category"&&u(t)},reviewsByProduct:j,onFly:typeof o=="function"?o:null})]})]})})})};export{E as default};
